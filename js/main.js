function debounce(e,t,a){var i;return function(){var o=this,s=arguments,n=function(){i=null,a||e.apply(o,s)},r=a&&!i;clearTimeout(i),i=setTimeout(n,t),r&&e.apply(o,s)}}function throttle(e,t,a){var i,o,s,n=0;a||(a={});var r=function(){n=!1===a.leading?0:(new Date).getTime(),i=null,e.apply(o,s),i||(o=s=null)};return function(){var c=(new Date).getTime();n||!1!==a.leading||(n=c);var l=t-(c-n);o=this,s=arguments,l<=0||l>t?(i&&(clearTimeout(i),i=null),n=c,e.apply(o,s),i||(o=s=null)):i||!1===a.trailing||(i=setTimeout(r,l))}}function isMobile(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function scrollTo(e){var t=$(e).offset();$("body,html").animate({scrollTop:t.top})}function loadScript(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.body.appendChild(a)}function snackbarShow(e,t,a){t=void 0!==t&&t,a=void 0!==a?a:2e3;var i=GLOBAL_CONFIG.Snackbar.position,o="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark;Snackbar.show({text:e,backgroundColor:o,showAction:t,duration:a,pos:i})}$((function(){const e=void 0!==GLOBAL_CONFIG.Snackbar,t=$("#search_button").outerWidth(),a=$("#blog_name").width();for(var i=0,o=0;o<$("#page-header .menus_item").length;o++)i+=$("#page-header .menus_item").eq(o).outerWidth();function s(){$("#page-header .toggle-menu").addClass("is_visible"),$("#page-header .menus,.search span").addClass("is_invisible")}function n(e){var o;"1"==e?o=a+t+i>$("#page-header").width()-300:"2"==e?o=a+t+i>$("#page-header").width():"3"==e&&(o=a+t+i>$("#page-header").width()),o?s():($("#page-header .toggle-menu").removeClass("is_visible"),$("#page-header .menus,.search span").removeClass("is_invisible"))}if($("#page-header").height()>45&&s(),$(window).bind("resize",(function(){window.innerWidth>768?n(3):s()})),$("#page-header").css({opacity:"1",animation:"headerNoOpacity .7s"}),GLOBAL_CONFIG.isHome&&(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)||$(".full_page").css("background-attachment","fixed")),GLOBAL_CONFIG.isPost){var r=$("#sidebar .sidebar-toc__content").children().length>0;$("#sidebar").hasClass("auto_open")&&r&&($("#toggle-sidebar").addClass("on"),setTimeout((function(){$("#toggle-sidebar").addClass("on"),c()}),400),n(1)),r?$("#toggle-sidebar").css("opacity","1"):$("#sidebar,#toggle-sidebar").css("display","none"),0===$("#mobile-sidebar-toc .sidebar-toc__content").children().length&&$("#mobile-sidebar-toc,#mobile-toc-button").css("display","none")}function c(){$("#page-header").addClass("open-sidebar"),$("body").animate({paddingLeft:300},400),$("#sidebar").css("transform","translateX(300px)"),$("#toggle-sidebar").css({transform:"rotateZ(180deg)",color:"#99a9bf",opacity:"1"})}$("#toggle-sidebar").on("click",(function(){if(!isMobile()&&$("#sidebar").is(":visible")){var e=$(this).hasClass("on");e?$(this).removeClass("on"):$(this).addClass("on"),e?($("#page-header").removeClass("open-sidebar"),$("body").animate({paddingLeft:0},400),$("#sidebar").css("transform","translateX(0px)"),$("#toggle-sidebar").css({transform:"rotateZ(0deg)",color:"#1F2D3D",opacity:"1"}),setTimeout((function(){n(2)}),500)):(n(1),c())}})),$(".scroll-down").on("click",(function(){scrollTo("#content-outer")})),$("#bookmark-it").on("click",(function(){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(document.title,window.location.href,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(location.href,document.title);else{if(window.opera&&window.print)return this.title=document.title,!0;e?snackbarShow(GLOBAL_CONFIG.Snackbar.bookmark.message_prev+" "+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+"+ D "+GLOBAL_CONFIG.Snackbar.bookmark.message_next+"."):alert(GLOBAL_CONFIG.bookmark.message_prev+" "+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+"+ D "+GLOBAL_CONFIG.bookmark.message_next+".")}})),$(document).on("click",".code-area-wrap .fa-clipboard",(function(){var t=window.getSelection(),a=document.createRange();a.selectNodeContents($(this).parent().siblings("figure").find(".code pre")[0]),t.removeAllRanges(),t.addRange(a);t.toString();!function(t,a){if(document.queryCommandSupported&&document.queryCommandSupported("copy"))try{document.execCommand("copy"),e?snackbarShow(GLOBAL_CONFIG.copy.success):$(a).prev(".copy-notice").text(GLOBAL_CONFIG.copy.success).animate({opacity:1,right:30},450,(function(){setTimeout((function(){$(a).prev(".copy-notice").animate({opacity:0,right:0},650)}),400)}))}catch(t){if(!e)return $(a).prev(".copy-notice").text(GLOBAL_CONFIG.copy.error).animate({opacity:1,right:30},650,(function(){setTimeout((function(){$(a).prev(".copy-notice").animate({opacity:0,right:0},650)}),400)})),!1;snackbarShow(GLOBAL_CONFIG.copy.success)}else e?snackbarShow(GLOBAL_CONFIG.copy.noSupport):$(a).prev(".copy-notice").text(GLOBAL_CONFIG.copy.noSupport)}(0,this),t.removeAllRanges()})),$(document).on("click",".code-area-wrap .code-expand",(function(){var e=$(this).parent().next();$(this).hasClass("code-closed")?(e.slideDown(300),$(this).removeClass("code-closed")):(e.slideUp(300),$(this).addClass("code-closed"))}));var l=GLOBAL_CONFIG.medium_zoom;if(GLOBAL_CONFIG.fancybox&&$().fancybox({selector:"[data-fancybox]",loop:!0,transitionEffect:"slide",protect:!0,buttons:["slideShow","fullScreen","thumbs","close"]}),l){const e=mediumZoom(document.querySelectorAll(".mediumZoom"));e.on("open",t=>{let a="dark"==$(document.documentElement).attr("data-theme")?"#121212":"#fff";e.update({background:a})})}function d(e){$("body").css("overflow","hidden"),$("#body-wrap").css("transform","translateX(-250px)"),$("#page-header").css("transform","translateX(-250px)"),$("#page-header.fixed.visible").css("transform","translate3d(-250px, 100%, 0)"),$("#rightside").css("transform","translateX(-288px)"),$("#menu_mask").fadeIn(),"menu"===e&&($(".toggle-menu").removeClass("close").addClass("open"),$("#mobile-sidebar-menus").css({transform:"translateX(-254px)"})),"toc"===e&&($("#mobile-toc-button").removeClass("close").addClass("open"),$("#mobile-sidebar-toc").css("transform","translateX(-254px)"))}function m(e){$("body").css("overflow",""),$("#body-wrap").css("transform",""),$("#page-header").css("transform",""),$("#page-header.fixed.visible").css("transform",""),$("#rightside").css("transform","translateX(-38px)"),$("#menu_mask").fadeOut(),"menu"==e&&($(".toggle-menu").removeClass("open").addClass("close"),$("#mobile-sidebar-menus").css({transform:"translateX(0)"})),"toc"==e&&($("#mobile-toc-button").removeClass("open").addClass("close"),$("#mobile-sidebar-toc").css("transform",""))}$(".toggle-menu").on("click",(function(){$(".toggle-menu").hasClass("close")&&(d("menu"),$("#toggle-sidebar").hasClass("on")&&($("body").css("padding-left","0"),$("#sidebar").css("transform","")))})),$("#mobile-toc-button").on("click",(function(){$("#mobile-toc-button").hasClass("close")&&d("toc")})),$("#menu_mask").on("click",(function(e){$(".toggle-menu").hasClass("open")&&(m("menu"),$("#toggle-sidebar").hasClass("on")&&setTimeout((function(){c()}),600)),$("#mobile-toc-button").hasClass("open")&&m("toc")})),$(window).on("resize",(function(e){$(".toggle-menu").is(":visible")||$(".toggle-menu").hasClass("open")&&m("menu"),$("#mobile-toc-button").is(":visible")||$("#mobile-toc-button").hasClass("open")&&m("toc")})),$("#mobile-sidebar-toc a").on("click",(function(){m("toc")}));var u=0;function h(e){var t=parseFloat($("body").css("font-size")),a=parseFloat($("pre").css("font-size")),i=parseFloat($("code").css("font-size"));"plus"==e?($("body").css("font-size",t+1),$("pre").css("font-size",a+1),$("code").css("font-size",i+1)):($("body").css("font-size",t-1),$("pre").css("font-size",a-1),$("code").css("font-size",i-1))}$(".toc-child").hide(),$(window).scroll(throttle((function(e){var t=$(this).scrollTop();!isMobile()&&$(".sidebar-toc__content").children().length>0&&(function(e){var t=$("#content-outer").height(),a=$(window).height(),i=t>a?t-a:$(document).height()-a,o=e/i,s=Math.round(100*o),n=s>100?100:s;$(".progress-num").text(n),$(".sidebar-toc__progress-bar").animate({width:n+"%"},100)}(t),function(e){if(0===$(".toc-link").length)return!1;var t=$("#post-content").find("h1,h2,h3,h4,h5,h6"),a="";t.each((function(){var t=$(this);e>t.offset().top-25&&(a="#"+$(this).attr("id"))})),""===a&&($(".toc-link").removeClass("active"),$(".toc-child").hide());var i=$(".toc-link.active");if(a&&i.attr("href")!==a){r=a,window.history.replaceState&&r!==window.location.hash&&window.history.replaceState(void 0,void 0,r),$(".toc-link").removeClass("active");var o=$('.toc-link[href="'+a+'"]');o.addClass("active");var s=o.parents(".toc-child"),n=s.length>0?s.last():o;!function(e){if(e.is(":visible"))return;e.fadeIn(400)}(n.closest(".toc-item").find(".toc-child")),n.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}var r}(t),function(e){if($(".toc-link").hasClass("active")){var t=$(".active").offset().top,a=$("#sidebar").scrollTop();t>e+$(window).height()-50?$("#sidebar").scrollTop(a+100):t<e+50&&$("#sidebar").scrollTop(a-100)}}(t));var a=function(e){var t=e>u;return u=e,t}(t);t>56?(a?$("#page-header").hasClass("visible")&&$("#page-header").removeClass("visible"):!$("#page-header").hasClass("visible")&&$("#page-header").addClass("visible"),$("#page-header").addClass("fixed"),"0"===$("#rightside").css("opacity")&&$("#rightside").animate({},(function(){$(this).css({opacity:"1",transform:"translateX(-38px)"})}))):(0===t&&$("#page-header").removeClass("fixed").removeClass("visible"),$("#rightside").animate({},(function(){$("#rightside").css({opacity:"",transform:""})})))}),300)),$("#go-up").on("click",(function(){scrollTo("body")})),$(".toc-link").on("click",(function(e){e.preventDefault(),scrollTo($(this).attr("href"))})),$("#readmode").click((function(){var e="dark"==$(document.documentElement).attr("data-theme");$("body").toggleClass("read-mode"),$("#to_comment").toggleClass("is_invisible"),"dark"==Cookies.get("theme")&&(e?$(document.documentElement).attr("data-theme",""):$(document.documentElement).attr("data-theme","dark"))})),$("#font_plus").click((function(){h("plus")})),$("#font_minus").click((function(){h("minus")})),$(".menus-expand").on("click",(function(){$(this).hasClass("menus-closed")?($(this).parents(".menus_item").find(".menus_item_child").slideDown(),$(this).removeClass("menus-closed")):($(this).parents(".menus_item").find(".menus_item_child").slideUp(),$(this).addClass("menus-closed"))})),$("#rightside_config").on("click",(function(){$("#rightside-config-hide").hasClass("rightside-in")?$("#rightside-config-hide").removeClass("rightside-in").addClass("rightside-out"):$("#rightside-config-hide").removeClass("rightside-out").addClass("rightside-in")}));var p=GLOBAL_CONFIG.copyright;function g(){$("#darkmode").removeClass("fa-moon-o").addClass("fa-sun-o")}function f(){$("#darkmode").removeClass("fa-sun-o").addClass("fa-moon-o")}if(void 0!==p&&(document.body.oncopy=e=>{e.preventDefault();let t,a=window.getSelection(0).toString();return t=a.length>45?a+"\n\n\n"+p.languages.author+"\n"+p.languages.link+"\n"+p.languages.source+"\n"+p.languages.info:a,e.clipboardData?e.clipboardData.setData("text",t):window.clipboardData.setData("text",t)}),$(".justified-gallery").length&&($(".justified-gallery > p > .fancybox").unwrap(),$("head").append('<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">'),loadScript("https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js",(function(){"function"==typeof $.fn.justifiedGallery&&$(".justified-gallery").justifiedGallery({rowHeight:220,margins:4})}))),"undefined"!=typeof autoChangeMode&&("1"!=autoChangeMode&&"2"!=autoChangeMode||("dark"==Cookies.get("theme")?g():f())),$("#darkmode").click((function(){"light"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(g(),activateDarkMode(),Cookies.set("theme","dark",{expires:2}),e&&snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(f(),activateLightMode(),Cookies.set("theme","light",{expires:2}),e&&snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day))})),GLOBAL_CONFIG.runtime){var b,v=$("#webinfo_runtime_count").attr("start_date");function w(){var e=new Date(v),t=((new Date).getTime()-e.getTime())/864e5,a=Math.floor(t);$(".webinfo_runtime_count").text(a+" "+GLOBAL_CONFIG.runtime_unit)}w(),clearInterval(b),b=setInterval(w,1e4)}if(void 0===GLOBAL_CONFIG.localSearch&&void 0!==GLOBAL_CONFIG.algolia){$("a.social-icon.search").on("click",(function(){y(),$(".ais-search-box--input").focus()})),$(".search-mask, .search-close-button").on("click",_);var k,C=GLOBAL_CONFIG.algolia;if(!(C.appId&&C.apiKey&&C.indexName))return console.error("Algolia setting is invalid!");(k=instantsearch({appId:C.appId,apiKey:C.apiKey,indexName:C.indexName,searchParameters:{hitsPerPage:C.hits.per_page||10},searchFunction:function(e){$("#algolia-search-input").find("input").val()&&e.search()}})).addWidget(instantsearch.widgets.searchBox({container:"#algolia-search-input",reset:!1,magnifier:!1,placeholder:GLOBAL_CONFIG.algolia.languages.input_placeholder})),k.addWidget(instantsearch.widgets.hits({container:"#algolia-hits",templates:{item:function(e){return'<a href="'+(e.permalink?e.permalink:GLOBAL_CONFIG.root+e.path)+'" class="algolia-hit-item-link">'+e._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="algolia-hits-empty">'+GLOBAL_CONFIG.algolia.languages.hits_empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"algolia-hit-item"}})),k.addWidget(instantsearch.widgets.stats({container:"#algolia-stats",templates:{body:function(e){return"<hr>"+GLOBAL_CONFIG.algolia.languages.hits_stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS)+'<span class="algolia-logo pull_right">  <img src="'+GLOBAL_CONFIG.root+'img/algolia.svg" alt="Algolia" /></span>'}}})),k.addWidget(instantsearch.widgets.pagination({container:"#algolia-pagination",scrollTo:!1,showFirstLast:!1,labels:{first:'<i class="fa fa-angle-double-left"></i>',last:'<i class="fa fa-angle-double-right"></i>',previous:'<i class="fa fa-angle-left"></i>',next:'<i class="fa fa-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",active:"current",disabled:"disabled-item"}})),k.start()}if(void 0!==GLOBAL_CONFIG.localSearch&&void 0===GLOBAL_CONFIG.algolia){function k(e){$.ajax({url:GLOBAL_CONFIG.root+e,dataType:"xml",success:function(e){var t=$("entry",e).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get(),a=$("#local-search-input input")[0],i=$("#local-hits")[0];a.addEventListener("input",(function(){var e='<div class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s]+/);if(i.innerHTML="",this.value.trim().length<=0)$(".local-search-stats__hr").hide();else{var o=0;t.forEach((function(t){var i=!0,s=t.title.trim().toLowerCase(),n=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),r=t.url,c=-1,l=-1;""!==s&&""!==n&&a.forEach((function(e,t){c=s.indexOf(e),l=n.indexOf(e),c<0&&l<0?i=!1:l<0&&(l=0)})),i&&(e+='<div class="local-search__hit-item"><a href="'+r+'" class="search-result-title">'+s+"</a></div>",o+=1,$(".local-search-stats__hr").show())})),0===o&&(e+='<div id="local-search__hits-empty">'+GLOBAL_CONFIG.localSearch.languages.hits_empty.replace(/\$\{query}/,this.value.trim())+"</div>"),i.innerHTML=e}}))}})}$("a.social-icon.search").on("click",(function(){var e=!1;y(),$("#local-search-input input").focus(),e||(k(GLOBAL_CONFIG.localSearch.path),e=!0)})),$(".search-mask, .search-close-button").on("click",_)}function y(){$("body").css("width","100%"),$("body").css("overflow","hidden"),$(".search-dialog").animate({},(function(){$(".search-dialog").css({display:"block"})})),$(".search-mask").fadeIn(),document.addEventListener("keydown",(function e(t){"Escape"==t.code&&(_(),document.removeEventListener("keydown",e))}))}function _(){$("body").css("width",""),$("body").css("overflow",""),$(".search-dialog").css({animation:"search_close .5s"}),$(".search-dialog").animate({},(function(){setTimeout((function(){$(".search-dialog").css({animation:"",display:"none"})}),500)})),$(".search-mask").fadeOut()}GLOBAL_CONFIG.baiduPush&&function(){var e=document.createElement("script"),t=window.location.protocol.split(":")[0];e.src="https"===t?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}()})),window.debounce=debounce,window.throttle=throttle,window.isMobile=isMobile;